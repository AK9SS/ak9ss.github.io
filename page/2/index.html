<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><title>Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">John Doe</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">15</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hexo</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Hexo</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/11/Python%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF-48-MySQL/">Python全栈之路-48-MySQL</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-11</time><div class="content"><h3 id="今日内容概要"><a href="#今日内容概要" class="headerlink" title="今日内容概要"></a>今日内容概要</h3><ul>
<li>数据库查询题目讲解</li>
<li>Python如何操作MySQL</li>
<li>SQL注入</li>
<li>pymsql模块增删改查数据操作</li>
</ul>
<h4 id="数据库查询题目讲解"><a href="#数据库查询题目讲解" class="headerlink" title="数据库查询题目讲解"></a>数据库查询题目讲解</h4><p>把以下数据粘贴至文本中，并以“.sql”结尾，用于环境准备。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> Navicat Premium Data Transfer</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Source Server         : Study-Local-SQL</span></span><br><span class="line"><span class="comment"> Source Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Source Server Version : 50735</span></span><br><span class="line"><span class="comment"> Source Host           : 192.168.100.129:3306</span></span><br><span class="line"><span class="comment"> Source Schema         : day48</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Target Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Target Server Version : 50735</span></span><br><span class="line"><span class="comment"> File Encoding         : 65001</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Date: 12/09/2021 12:40:16</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> NAMES utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for class</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `class`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `class`  (</span><br><span class="line">  `cid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `caption` <span class="type">varchar</span>(<span class="number">32</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`cid`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">5</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of class</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `class` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;三年二班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `class` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;三年三班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `class` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;一年二班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `class` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;二年九班&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `course`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `course`  (</span><br><span class="line">  `cid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `cname` <span class="type">varchar</span>(<span class="number">32</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `teacher_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`cid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `teacher_id`(`teacher_id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `course_ibfk_1` <span class="keyword">FOREIGN</span> KEY (`teacher_id`) <span class="keyword">REFERENCES</span> `teacher` (`tid`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> UPDATE CASCADE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">5</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `course` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;生物&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `course` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;物理&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `course` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;体育&#x27;</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `course` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;美术&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for score</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `score`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `score`  (</span><br><span class="line">  `sid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `student_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `course_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `num` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`sid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `student_id`(`student_id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `course_id`(`course_id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `score_ibfk_1` <span class="keyword">FOREIGN</span> KEY (`student_id`) <span class="keyword">REFERENCES</span> `student` (`sid`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> UPDATE CASCADE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `score_ibfk_2` <span class="keyword">FOREIGN</span> KEY (`course_id`) <span class="keyword">REFERENCES</span> `course` (`cid`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> UPDATE CASCADE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">18</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of score</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">66</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">68</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">99</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">77</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">8</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">66</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">87</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">99</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">11</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">79</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">12</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">11</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">13</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">67</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">14</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">15</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">79</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">16</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">11</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `score` <span class="keyword">VALUES</span> (<span class="number">17</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">67</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for student</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student`  (</span><br><span class="line">  `sid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `gender` <span class="type">char</span>(<span class="number">1</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `class_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `sname` <span class="type">varchar</span>(<span class="number">32</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`sid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `class_id`(`class_id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `student_ibfk_1` <span class="keyword">FOREIGN</span> KEY (`class_id`) <span class="keyword">REFERENCES</span> `class` (`cid`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> UPDATE CASCADE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">17</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of student</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;理解&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;刚强&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;张一&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;张二&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;张四&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;铁棒&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">8</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;李三&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;李一&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;李二&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">11</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;李四&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">12</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;如花&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">13</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;刘三&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">14</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;刘一&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">15</span>, <span class="string">&#x27;女&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;刘二&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">16</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;刘四&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for teacher</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `teacher`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `teacher`  (</span><br><span class="line">  `tid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `tname` <span class="type">varchar</span>(<span class="number">32</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`tid`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">6</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of teacher</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张磊&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;李平&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;刘海燕&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;朱云海&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher` <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">&#x27;李杰&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h5 id="题目1：查询所有课程名称以及对应的任课老师姓名"><a href="#题目1：查询所有课程名称以及对应的任课老师姓名" class="headerlink" title="题目1：查询所有课程名称以及对应的任课老师姓名"></a>题目1：查询所有课程名称以及对应的任课老师姓名</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> course.cname <span class="keyword">as</span> CourseName,teacher.tname <span class="keyword">as</span> TeacherName <span class="keyword">from</span> course <span class="keyword">inner</span> <span class="keyword">join</span> teacher <span class="keyword">on</span> course.teacher_id <span class="operator">=</span> teacher.tid;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> CourseName <span class="operator">|</span> TeacherName <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> 生物       <span class="operator">|</span> 张磊        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 物理       <span class="operator">|</span> 李平        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 体育       <span class="operator">|</span> 刘海燕      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 美术       <span class="operator">|</span> 李平        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="题目2：查询平均成绩大于八十分的同学以及姓名和平均成绩"><a href="#题目2：查询平均成绩大于八十分的同学以及姓名和平均成绩" class="headerlink" title="题目2：查询平均成绩大于八十分的同学以及姓名和平均成绩"></a>题目2：查询平均成绩大于八十分的同学以及姓名和平均成绩</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> student.sname,<span class="built_in">avg</span>(num) <span class="keyword">from</span> score <span class="keyword">inner</span> <span class="keyword">join</span> student <span class="keyword">on</span> score.student_id <span class="operator">=</span> student.sid <span class="keyword">group</span> <span class="keyword">by</span> student.sname <span class="keyword">having</span> <span class="built_in">avg</span>(num)<span class="operator">&gt;</span><span class="number">80</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="operator">|</span> sname <span class="operator">|</span> <span class="built_in">avg</span>(num) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="operator">|</span> 张三  <span class="operator">|</span> <span class="number">82.2500</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="题目3：查询没有报李平老师课的学生姓名"><a href="#题目3：查询没有报李平老师课的学生姓名" class="headerlink" title="题目3：查询没有报李平老师课的学生姓名"></a>题目3：查询没有报李平老师课的学生姓名</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> student.sname <span class="keyword">from</span> student <span class="keyword">where</span> student.sid <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> score.student_id <span class="keyword">from</span> score <span class="keyword">where</span> score.course_id <span class="keyword">in</span> (<span class="keyword">select</span> course.cid <span class="keyword">as</span> cid <span class="keyword">from</span> course <span class="keyword">inner</span> <span class="keyword">join</span> teacher <span class="keyword">on</span> course.teacher_id <span class="operator">=</span> teacher.tid <span class="keyword">where</span> teacher.tname <span class="operator">=</span> <span class="string">&#x27;李平&#x27;</span>));</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="operator">|</span> sname <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="operator">|</span> 张四  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 铁棒  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 李三  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 李一  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 李二  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 李四  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 如花  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘三  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘一  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘二  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘四  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="number">11</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.11</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="题目4：查询没有同时选修物理课程和体育课程的学生姓名"><a href="#题目4：查询没有同时选修物理课程和体育课程的学生姓名" class="headerlink" title="题目4：查询没有同时选修物理课程和体育课程的学生姓名"></a>题目4：查询没有同时选修物理课程和体育课程的学生姓名</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> student.sname <span class="keyword">from</span> student <span class="keyword">where</span> student.sid <span class="keyword">in</span> (<span class="keyword">select</span> score.student_id <span class="keyword">from</span> score <span class="keyword">where</span> score.course_id <span class="keyword">in</span> (<span class="keyword">select</span> course.cid <span class="keyword">from</span> course <span class="keyword">where</span> course.cname <span class="keyword">in</span> (<span class="string">&#x27;物理&#x27;</span>, <span class="string">&#x27;体育&#x27;</span>)) <span class="keyword">group</span> <span class="keyword">by</span> score.student_id <span class="keyword">having</span> <span class="built_in">count</span>(score.course_id) <span class="operator">=</span> <span class="number">1</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="operator">|</span> sname <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="operator">|</span> 理解  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刚强  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.12</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="题目5：查询挂科超过两门（包括两门）的学生姓名和班级"><a href="#题目5：查询挂科超过两门（包括两门）的学生姓名和班级" class="headerlink" title="题目5：查询挂科超过两门（包括两门）的学生姓名和班级"></a>题目5：查询挂科超过两门（包括两门）的学生姓名和班级</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> student.sname, class.caption <span class="keyword">from</span> student <span class="keyword">inner</span> <span class="keyword">join</span> class <span class="keyword">on</span> student.class_id <span class="operator">=</span> class.cid <span class="keyword">where</span> student.sid <span class="keyword">in</span> (<span class="keyword">select</span> score.student_id <span class="keyword">from</span> score <span class="keyword">where</span> score.num<span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">group</span> <span class="keyword">by</span> score.student_id <span class="keyword">having</span> <span class="built_in">count</span>(score.num)<span class="operator">&gt;=</span><span class="number">2</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="operator">|</span> sname <span class="operator">|</span> caption  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="operator">|</span> 理解  <span class="operator">|</span> 三年二班 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.10</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="Python如何操作MySQL"><a href="#Python如何操作MySQL" class="headerlink" title="Python如何操作MySQL"></a>Python如何操作MySQL</h4><blockquote>
<p>Python常用的主流模块pymysql用于操作mysql数据库</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 链接数据库</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;192.168.100.129&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;!QAZ2wsx&#x27;</span>,</span><br><span class="line">    database=<span class="string">&#x27;day48&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8&#x27;</span> <span class="comment"># 编码千万不要加-</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 产生一个游标对象</span></span><br><span class="line">cursor = conn.cursor(cursor=pymysql.cursors.DictCursor) <span class="comment"># cursor=pymysql.cursors.DictCursor - 将查询结果以字典的形式返回</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行sql</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class;&#x27;</span></span><br><span class="line">res = cursor.execute(sql)</span><br><span class="line"><span class="comment"># print(res) # execute返回的是你当前sql语句所影响的行数，该返回值一般不用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取命令执行的查询结果</span></span><br><span class="line"><span class="comment"># print(cursor.fetchone()) # 只拿一条数据</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#123;&#x27;cid&#x27;: 1, &#x27;caption&#x27;: &#x27;三年二班&#x27;&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(cursor.fetchall()) # 拿所有数据</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#123;&#x27;cid&#x27;: 1, &#x27;caption&#x27;: &#x27;三年二班&#x27;&#125;, &#123;&#x27;cid&#x27;: 2, &#x27;caption&#x27;: &#x27;三年三班&#x27;&#125;, &#123;&#x27;cid&#x27;: 3, &#x27;caption&#x27;: &#x27;一年二班&#x27;&#125;, &#123;&#x27;cid&#x27;: 4, &#x27;caption&#x27;: &#x27;二年九班&#x27;&#125;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cursor.fetchmany(<span class="number">2</span>)) <span class="comment"># 拿执行条数</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#123;&#x27;cid&#x27;: 1, &#x27;caption&#x27;: &#x27;三年二班&#x27;&#125;, &#123;&#x27;cid&#x27;: 2, &#x27;caption&#x27;: &#x27;三年三班&#x27;&#125;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">cursor.scroll(<span class="number">1</span>,<span class="string">&#x27;relative&#x27;</span>) <span class="comment"># 相对光标所在的位置继续往后移动1位</span></span><br><span class="line"><span class="built_in">print</span>(cursor.fetchone())</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#123;&#x27;cid&#x27;: 4, &#x27;caption&#x27;: &#x27;二年九班&#x27;&#125;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">cursor.scroll(<span class="number">1</span>,<span class="string">&#x27;absolute&#x27;</span>) <span class="comment"># 相对于数据的开头往后继续移动1位</span></span><br><span class="line"><span class="built_in">print</span>(cursor.fetchone())</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#123;&#x27;cid&#x27;: 2, &#x27;caption&#x27;: &#x27;三年三班&#x27;&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="sql注入"><a href="#sql注入" class="headerlink" title="sql注入"></a>sql注入</h4><blockquote>
<p>利用一些语法的特定，书写一些特定的语句实现固定的语法</p>
</blockquote>
<p>比如以下MySQL语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;jason&#x27;</span> <span class="comment">-- djfkdgjkngkg and password=&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;xx&#x27;</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span> <span class="comment">-- sjgkndkjseignfd and password=&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>日常生活中很多软件在注册的时候都不能含有特殊符号，怕构造出特定的语句入侵数据库。<em>所以敏感的数据不要自己做拼接</em></p>
<p><strong>解决办法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 链接数据库</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;192.168.100.129&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;!QAZ2wsx&#x27;</span>,</span><br><span class="line">    database=<span class="string">&#x27;day48&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8&#x27;</span>  <span class="comment"># 编码千万不要加-</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line">username = <span class="built_in">input</span>(<span class="string">&#x27;&gt;&gt;&gt;&gt;: &#x27;</span>)</span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;&gt;&gt;&gt;&gt;: &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不要手动拼接数据，使用%s占位即可，将需要拼接的数据直接交给execute</span></span><br><span class="line">sql = <span class="string">&quot;select * from user where name=%s and pass=%s&quot;</span></span><br><span class="line"><span class="comment"># 自动识别sql里面的%s后面元组里面的数据替换</span></span><br><span class="line">rows = cursor.execute(sql, (username, password))</span><br><span class="line"><span class="keyword">if</span> rows:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;登录成功&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(cursor.fetchall())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;登录失败&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="pymsql模块增删改查数据操作"><a href="#pymsql模块增删改查数据操作" class="headerlink" title="pymsql模块增删改查数据操作"></a>pymsql模块增删改查数据操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1231321&#x27;</span>,</span><br><span class="line">    database=<span class="string">&#x27;day49&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">    autocommit=<span class="literal">True</span> <span class="comment"># 默认是False，赋值为True后，会自动二次确认，以下的二次确认就可以省略。</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增</span></span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;insert into user(name, pass) values(%s, %s);&#x27;</span></span><br><span class="line">rows = cursor.execute(sql, (<span class="string">&#x27;jason&#x27;</span>, <span class="string">&#x27;24fef&#x27;</span>)) <span class="comment"># 增加单条</span></span><br><span class="line">rows = cursor.execute(sql, [(<span class="string">&#x27;jason&#x27;</span>, <span class="string">&#x27;45454&#x27;</span>), (<span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;fede654&#x27;</span>), (<span class="string">&#x27;xxxx&#x27;</span>, <span class="string">&#x27;rfe56e&#x27;</span>)])<span class="comment"># 增加多条</span></span><br><span class="line"><span class="comment">#conn.commit() # 二次确认</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删</span></span><br><span class="line">sql = <span class="string">&#x27;delete from user where id=1;&#x27;</span></span><br><span class="line">rows = cursor.execute(sql)</span><br><span class="line"><span class="comment">#conn.commit() # 二次确认</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 改</span></span><br><span class="line">sql = <span class="string">&#x27;update user set name=&quot;python&quot; where id=1;&#x27;</span></span><br><span class="line">rows = cursor.execute(sql)</span><br><span class="line"><span class="comment">#conn.commit() # 二次确认</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class;&#x27;</span></span><br><span class="line">res = cursor.execute(sql)</span><br><span class="line"><span class="built_in">print</span>(cursor.fetchone())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">增删改查中，删改查它们的擦做涉及到数据库的修改，所以需要二次确认,才能真正的操作数据。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/09/Python%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF-47-MySQL/">Python全栈之路-47-MySQL</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-09</time><div class="content"><h3 id="今日内容概要"><a href="#今日内容概要" class="headerlink" title="今日内容概要"></a>今日内容概要</h3><ul>
<li>单表操作</li>
<li>连表操作</li>
</ul>
<h4 id="单表操作"><a href="#单表操作" class="headerlink" title="单表操作"></a>单表操作</h4><h5 id="前期表准备"><a href="#前期表准备" class="headerlink" title="前期表准备"></a>前期表准备</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">  sex enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">  age <span class="type">int</span>(<span class="number">3</span>) unsigned <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="number">28</span>,</span><br><span class="line">  hire_date <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">  post <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">  post_comment <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">default</span> <span class="keyword">NULL</span>,</span><br><span class="line">  salary <span class="keyword">double</span>(<span class="number">15</span>, <span class="number">2</span>),</span><br><span class="line">  office <span class="type">int</span>,</span><br><span class="line">  depart_id <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span></span><br><span class="line">  emp(name, sex, age, hire_date, post, salary, office, depart_id) <span class="keyword">values</span></span><br><span class="line">  (<span class="string">&#x27;jason&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20170301&#x27;</span>, <span class="string">&#x27;Handsame&#x27;</span>, <span class="number">7300.33</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">78</span>, <span class="string">&#x27;20150302&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">100000.31</span>, <span class="string">&#x27;401&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;kevin&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">81</span>, <span class="string">&#x27;20130305&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">8300</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;tony&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">73</span>, <span class="string">&#x27;20140701&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">3500</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;owen&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;20121101&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">2100</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;jack&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20110211&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">9000</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;jenny&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;19000301&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">30000</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;sank&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">48</span>, <span class="string">&#x27;20101111&#x27;</span>, <span class="string">&#x27;teacher&#x27;</span>, <span class="number">10000</span>, <span class="number">401</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;HaHa&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">48</span>, <span class="string">&#x27;20150311&#x27;</span>, <span class="string">&#x27;sale&#x27;</span>, <span class="number">3000.13</span>, <span class="number">402</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;HeHe&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;20101101&#x27;</span>, <span class="string">&#x27;sale&#x27;</span>,<span class="number">2000.25</span>, <span class="number">402</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;BingBing&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20110312&#x27;</span>, <span class="string">&#x27;sale&#x27;</span>, <span class="number">1000.37</span>, <span class="number">402</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;LeLe&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20160513&#x27;</span>, <span class="string">&#x27;sale&#x27;</span>, <span class="number">3000.29</span>, <span class="number">402</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;LaLa&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;20170127&#x27;</span>, <span class="string">&#x27;sale&#x27;</span>, <span class="number">4000.33</span>, <span class="number">402</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;HeiHei&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;20160311&#x27;</span>, <span class="string">&#x27;operation&#x27;</span>, <span class="number">10000.13</span>, <span class="number">403</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="string">&#x27;LeiLei&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;19970312&#x27;</span>, <span class="string">&#x27;operation&#x27;</span>, <span class="number">20000</span>, <span class="number">403</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="string">&#x27;NuoNuo&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20130311&#x27;</span>, <span class="string">&#x27;operation&#x27;</span>, <span class="number">19000</span>, <span class="number">403</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="string">&#x27;KeKe&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20150411&#x27;</span>, <span class="string">&#x27;operation&#x27;</span>, <span class="number">18000</span>, <span class="number">403</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="string">&#x27;KeiKei&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;20140512&#x27;</span>, <span class="string">&#x27;operation&#x27;</span>, <span class="number">17000</span>, <span class="number">403</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h5 id="几个重要关键字的执行顺序"><a href="#几个重要关键字的执行顺序" class="headerlink" title="几个重要关键字的执行顺序"></a>几个重要关键字的执行顺序</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 书写顺序</span><br><span class="line"><span class="keyword">select</span> id, name <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># 执行顺序</span><br><span class="line"><span class="keyword">from</span> <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">where</span> <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">select</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 虽然书写顺序和执行顺序不一致，在写SQL语句的时候，就按照书写顺序写SQL，先用 &#x27;*&#x27;号占位，之后去补全后面SQL语句，最后将 &#x27;*&#x27; 号替换后你想要的具体字段。</span></span><br></pre></td></tr></table></figure>

<h5 id="Where约束条件"><a href="#Where约束条件" class="headerlink" title="Where约束条件"></a>Where约束条件</h5><blockquote>
<p>作用：是对整体数据的一个筛选操作</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span> 查询ID大于等于<span class="number">3</span>小于等于<span class="number">6</span>的数据</span><br><span class="line"><span class="comment">-- 第一种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id<span class="operator">&gt;=</span><span class="number">3</span> <span class="keyword">and</span> id<span class="operator">&lt;=</span><span class="number">6</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post    <span class="operator">|</span> salary  <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第二种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="keyword">between</span> <span class="number">3</span> <span class="keyword">and</span> <span class="number">6</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post    <span class="operator">|</span> salary  <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+---------+--------+-----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">2.</span> 查询薪资是<span class="number">20000</span>或者<span class="number">18000</span>或者<span class="number">17000</span>的数据</span><br><span class="line"><span class="comment">-- 第一种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary<span class="operator">=</span><span class="number">20000</span> <span class="keyword">or</span> salary<span class="operator">=</span><span class="number">18000</span> <span class="keyword">or</span> salary<span class="operator">=</span><span class="number">17000</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> salary   <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第二种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="keyword">in</span> (<span class="number">20000</span>, <span class="number">18000</span>, <span class="number">17000</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> salary   <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+-----+------------+-----------+----------+--------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">3.</span> 查询员工姓名中包含字母o的员工姓名和员工薪资</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">模糊查询</span></span><br><span class="line"><span class="string">  like</span></span><br><span class="line"><span class="string">      % 匹配任意多个字符</span></span><br><span class="line"><span class="string">      _ 匹配任意单个字符</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name, salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;%o%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> salary    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> jason  <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tom    <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tony   <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> owen   <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NuoNuo <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">4.</span> 查询员工姓名是由四个字符组成的，姓名和薪资。</span><br><span class="line"><span class="comment">-- 第一种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name, salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;____&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> salary   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> tony <span class="operator">|</span>  <span class="number">3500.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> owen <span class="operator">|</span>  <span class="number">2100.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> jack <span class="operator">|</span>  <span class="number">9000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank <span class="operator">|</span> <span class="number">10000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HaHa <span class="operator">|</span>  <span class="number">3000.13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe <span class="operator">|</span>  <span class="number">2000.25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LeLe <span class="operator">|</span>  <span class="number">3000.29</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LaLa <span class="operator">|</span>  <span class="number">4000.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeKe <span class="operator">|</span> <span class="number">18000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第二种书写</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name, salary <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">char_length</span>(name)<span class="operator">=</span><span class="number">4</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> salary   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> tony <span class="operator">|</span>  <span class="number">3500.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> owen <span class="operator">|</span>  <span class="number">2100.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> jack <span class="operator">|</span>  <span class="number">9000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank <span class="operator">|</span> <span class="number">10000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HaHa <span class="operator">|</span>  <span class="number">3000.13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe <span class="operator">|</span>  <span class="number">2000.25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LeLe <span class="operator">|</span>  <span class="number">3000.29</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LaLa <span class="operator">|</span>  <span class="number">4000.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeKe <span class="operator">|</span> <span class="number">18000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">5.</span> 查询id小于<span class="number">3</span>或者id大于<span class="number">6</span>的数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">3</span> <span class="keyword">and</span> <span class="number">6</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">14</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.10</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">6.</span> 查询薪资不在 <span class="number">20000</span>，<span class="number">18000</span>，<span class="number">17000</span>范围的数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">20000</span>, <span class="number">18000</span>, <span class="number">17000</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">15</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">7.</span> 查询岗位描述为空的员工姓名和岗位名</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name, post <span class="keyword">from</span> emp <span class="keyword">where</span> post_comment <span class="keyword">is</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> name     <span class="operator">|</span> post      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> jason    <span class="operator">|</span> Handsame  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tom      <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> kevin    <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> tony     <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> owen     <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> jack     <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> jenny    <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank     <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HaHa     <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe     <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> BingBing <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LeLe     <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LaLa     <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeiHei   <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> LeiLei   <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NuoNuo   <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeKe     <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeiKei   <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.13</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="Group-By分组"><a href="#Group-By分组" class="headerlink" title="Group By分组"></a>Group By分组</h5><blockquote>
<p>应用场景：男女比例、部门平均薪资、部门秃头率、国家之间数据统计，分组应用场景非常广泛。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span> 获取每个部门最高薪资</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">max</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> <span class="built_in">max</span>(salary) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>     <span class="number">7300.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span>    <span class="number">20000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>     <span class="number">4000.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">100000.31</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- as可以字段起别名，也可以直接省略不写，但是不推荐，因为省略的话语意不明确，容易错乱。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">max</span>(salary) <span class="keyword">as</span> <span class="string">&#x27;High Salary&#x27;</span> <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> High Salary <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>     <span class="number">7300.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span>    <span class="number">20000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>     <span class="number">4000.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">100000.31</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">2.</span> 获取每个部门的最低薪资</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">min</span>(salary) <span class="keyword">as</span> <span class="string">&#x27;High Salary&#x27;</span> <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> High Salary <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>     <span class="number">7300.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span>    <span class="number">10000.13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>     <span class="number">1000.37</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span>     <span class="number">2100.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">3.</span> 获取每个部门的平均薪资</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">avg</span>(salary) <span class="keyword">as</span> <span class="string">&#x27;High Salary&#x27;</span> <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> High Salary  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>  <span class="number">7300.330000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span> <span class="number">16800.026000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>  <span class="number">2600.274000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span> <span class="number">23271.472857</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">4.</span> 获取每个部门的工资总和</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">sum</span>(salary) <span class="keyword">as</span> <span class="string">&#x27;High Salary&#x27;</span> <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> High Salary <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>     <span class="number">7300.33</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span>    <span class="number">84000.13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>    <span class="number">13001.37</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span>   <span class="number">162900.31</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">5.</span> 获取每个部门的人数</span><br><span class="line"><span class="comment">-- count不能放空数据，要不然计数不生效。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post,<span class="built_in">count</span>(id) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> <span class="built_in">count</span>(post) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span>           <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>           <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span>           <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># <span class="number">6.</span> 查询分组之后的部门名称和每个部门下所有的员工姓名</span><br><span class="line"><span class="comment">-- group_concat不仅仅可以支持你获取分组之后的其他字段值，还支持拼接操作。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> group_concat(name), post <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> group_concat(name)                  <span class="operator">|</span> post      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> jason                               <span class="operator">|</span> Handsame  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeiKei,KeKe,NuoNuo,LeiLei,HeiHei    <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe,LaLa,LeLe,BingBing,HaHa        <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank,jenny,jack,owen,tony,kevin,tom <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------+-----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- group_concat 拼接</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> group_concat(name, <span class="string">&#x27;_DSB&#x27;</span>), post <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> group_concat(name, <span class="string">&#x27;_DSB&#x27;</span>)                                      <span class="operator">|</span> post      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> jason_DSB                                                       <span class="operator">|</span> Handsame  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeiKei_DSB,KeKe_DSB,NuoNuo_DSB,LeiLei_DSB,HeiHei_DSB            <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe_DSB,LaLa_DSB,LeLe_DSB,BingBing_DSB,HaHa_DSB                <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank_DSB,jenny_DSB,jack_DSB,owen_DSB,tony_DSB,kevin_DSB,tom_DSB <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- group_concat 取多个值</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> group_concat(name, <span class="string">&#x27;:&#x27;</span>, salary), post <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> group_concat(name, <span class="string">&#x27;:&#x27;</span>, salary)                                                                 <span class="operator">|</span> post      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> jason:<span class="number">7300.33</span>                                                                                   <span class="operator">|</span> Handsame  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> KeiKei:<span class="number">17000.00</span>,KeKe:<span class="number">18000.00</span>,NuoNuo:<span class="number">19000.00</span>,LeiLei:<span class="number">20000.00</span>,HeiHei:<span class="number">10000.13</span>                   <span class="operator">|</span> operation <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> HeHe:<span class="number">2000.25</span>,LaLa:<span class="number">4000.33</span>,LeLe:<span class="number">3000.29</span>,BingBing:<span class="number">1000.37</span>,HaHa:<span class="number">3000.13</span>                            <span class="operator">|</span> sale      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sank:<span class="number">10000.00</span>,jenny:<span class="number">30000.00</span>,jack:<span class="number">9000.00</span>,owen:<span class="number">2100.00</span>,tony:<span class="number">3500.00</span>,kevin:<span class="number">8300.00</span>,tom:<span class="number">100000.31</span> <span class="operator">|</span> teacher   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------------------------------------------------------------+-----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- concat不分组的时候用</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> concat(<span class="string">&#x27;NAME:&#x27;</span>, name), concat(<span class="string">&#x27;SAL&#x27;</span>, salary) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> concat(<span class="string">&#x27;NAME:&#x27;</span>, name) <span class="operator">|</span> concat(<span class="string">&#x27;SAL&#x27;</span>, salary) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> NAME:jason            <span class="operator">|</span> SAL7300<span class="number">.33</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:tom              <span class="operator">|</span> SAL100000<span class="number">.31</span>          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:kevin            <span class="operator">|</span> SAL8300<span class="number">.00</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:tony             <span class="operator">|</span> SAL3500<span class="number">.00</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:owen             <span class="operator">|</span> SAL2100<span class="number">.00</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:jack             <span class="operator">|</span> SAL9000<span class="number">.00</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:jenny            <span class="operator">|</span> SAL30000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:sank             <span class="operator">|</span> SAL10000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:HaHa             <span class="operator">|</span> SAL3000<span class="number">.13</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:HeHe             <span class="operator">|</span> SAL2000<span class="number">.25</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:BingBing         <span class="operator">|</span> SAL1000<span class="number">.37</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:LeLe             <span class="operator">|</span> SAL3000<span class="number">.29</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:LaLa             <span class="operator">|</span> SAL4000<span class="number">.33</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:HeiHei           <span class="operator">|</span> SAL10000<span class="number">.13</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:LeiLei           <span class="operator">|</span> SAL20000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:NuoNuo           <span class="operator">|</span> SAL19000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:KeKe             <span class="operator">|</span> SAL18000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> NAME:KeiKei           <span class="operator">|</span> SAL17000<span class="number">.00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-----------------------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 补充 <span class="keyword">as</span>语法不单单可以给字段起别名，还可以给表临时起别名。</span><br><span class="line"><span class="comment">-- 没起别名前的查询方式</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> emp.id, emp.name <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 起别名后查询方式</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> coo.id, coo.name <span class="keyword">from</span> emp <span class="keyword">as</span> coo;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查询每个人的年薪</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id, name, salary<span class="operator">*</span><span class="number">12</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> salary<span class="operator">*</span><span class="number">12</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span>   <span class="number">87603.96</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> <span class="number">1200003.72</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span>   <span class="number">99600.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span>   <span class="number">42000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span>   <span class="number">25200.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span>  <span class="number">108000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span>  <span class="number">360000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span>  <span class="number">120000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span>   <span class="number">36001.56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span>   <span class="number">24003.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span>   <span class="number">12004.44</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span>   <span class="number">36003.48</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span>   <span class="number">48003.96</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span>  <span class="number">120001.56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span>  <span class="number">240000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span>  <span class="number">228000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span>  <span class="number">216000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span>  <span class="number">204000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+------------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="分组注意事项"><a href="#分组注意事项" class="headerlink" title="分组注意事项"></a>分组注意事项</h5><ul>
<li>关键字where和group by同时出现的时候，group by必须在where的后面；</li>
<li>where先对整体数据进行过滤之后在分组操作；</li>
<li>where筛选条件不能使用聚合函数；</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 统计各部门年龄在<span class="number">30</span>岁以上的员工平均薪资</span><br><span class="line"><span class="operator">-</span> <span class="number">1.</span>先求所有年龄大于<span class="number">30</span>岁的员工</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">30</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post    <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale    <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale    <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="operator">-</span> <span class="number">2.</span>再对结果进行分组</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">avg</span>(salary) <span class="keyword">from</span> emp <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">30</span> <span class="keyword">group</span> <span class="keyword">by</span> post;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="operator">|</span> post    <span class="operator">|</span> <span class="built_in">avg</span>(salary)  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="operator">|</span> sale    <span class="operator">|</span>  <span class="number">2500.190000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">30450.077500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="having分组之后的筛选条件"><a href="#having分组之后的筛选条件" class="headerlink" title="having分组之后的筛选条件"></a>having分组之后的筛选条件</h5><blockquote>
<p>having的语法与where是一致的，只不过having是在分组之后进行的过滤操作。having是可以直接使用聚合函数的</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 统计各部门年龄在<span class="number">30</span>岁以上的员工工资，并且保留平均薪资大于<span class="number">10000</span>的部门</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">avg</span>(salary) <span class="keyword">from</span> emp <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">30</span> <span class="keyword">group</span> <span class="keyword">by</span> post <span class="keyword">having</span> <span class="built_in">avg</span>(salary)<span class="operator">&gt;</span><span class="number">10000</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="operator">|</span> post    <span class="operator">|</span> <span class="built_in">avg</span>(salary)  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="operator">|</span> teacher <span class="operator">|</span> <span class="number">30450.077500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+--------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="distinct去重"><a href="#distinct去重" class="headerlink" title="distinct去重"></a>distinct去重</h5><blockquote>
<p>一定要注意，必须是完全一样的数据才可以去重。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">distinct</span> id, age <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="order-by排序"><a href="#order-by排序" class="headerlink" title="order by排序"></a>order by排序</h5><blockquote>
<p>order by 默认是升序。asc标志的就是升序，可以省略不写，desc是降序。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> salary;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">asc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line"># <span class="keyword">order</span> <span class="keyword">by</span>不仅可以指定一个值，可以指定多个值不同的排序方式，可以会先降序排，要是值相同，后面的按照升序排。比如以下案例</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>, salary <span class="keyword">asc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post      <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom      <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> tony     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">73</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3500.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2012</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">2100.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">13</span> <span class="operator">|</span> LaLa     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-01</span><span class="number">-27</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">4000.33</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">14</span> <span class="operator">|</span> HeiHei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">10000.13</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">11</span> <span class="operator">|</span> BingBing <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">1000.37</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">12</span> <span class="operator">|</span> LeLe     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> <span class="operator">|</span> sale      <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">3000.29</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack     <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">18</span> <span class="operator">|</span> KeiKei   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-05</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">17000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">17</span> <span class="operator">|</span> KeKe     <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-04</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">18000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">16</span> <span class="operator">|</span> NuoNuo   <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">19000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">15</span> <span class="operator">|</span> LeiLei   <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1997</span><span class="number">-03</span><span class="number">-12</span> <span class="operator">|</span> operation <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">20000.00</span> <span class="operator">|</span>    <span class="number">403</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny    <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher   <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+--------+-----+------------+-----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">18</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line"># 统计各部门年龄在<span class="number">10</span>岁以上的员工平均工资，并且保留平均薪资大于<span class="number">1000</span>的部门，对平均工资降序排序。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> post, <span class="built_in">avg</span>(salary) <span class="keyword">as</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">10</span> <span class="keyword">group</span> <span class="keyword">by</span> post <span class="keyword">having</span> <span class="built_in">avg</span>(salary)<span class="operator">&gt;</span><span class="number">1000</span> <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> post      <span class="operator">|</span> salary       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> teacher   <span class="operator">|</span> <span class="number">23271.472857</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> operation <span class="operator">|</span> <span class="number">16800.026000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Handsame  <span class="operator">|</span>  <span class="number">7300.330000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sale      <span class="operator">|</span>  <span class="number">2600.274000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="limit限制展示条数"><a href="#limit限制展示条数" class="headerlink" title="limit限制展示条数"></a>limit限制展示条数</h5><blockquote>
<p>针对数据过多的情况，limiti通常是做分页处理。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 展示三条数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">3</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex  <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post     <span class="operator">|</span> post_comment <span class="operator">|</span> salary    <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> tom   <span class="operator">|</span> male <span class="operator">|</span>  <span class="number">78</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-02</span> <span class="operator">|</span> teacher  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">100000.31</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male <span class="operator">|</span>  <span class="number">81</span> <span class="operator">|</span> <span class="number">2013</span><span class="number">-03</span><span class="number">-05</span> <span class="operator">|</span> teacher  <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>   <span class="number">8300.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+-----------+--------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line"># 控制起始位置和参数，从第六条开始读，都五条数据。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">5</span>, <span class="number">5</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post    <span class="operator">|</span> post_comment <span class="operator">|</span> salary   <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+----------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jack  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2011</span><span class="number">-02</span><span class="number">-11</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">9000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> jenny <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">1900</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">30000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">8</span> <span class="operator">|</span> sank  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-11</span> <span class="operator">|</span> teacher <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">10000.00</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">9</span> <span class="operator">|</span> HaHa  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span> <span class="number">2015</span><span class="number">-03</span><span class="number">-11</span> <span class="operator">|</span> sale    <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">3000.13</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span> HeHe  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">38</span> <span class="operator">|</span> <span class="number">2010</span><span class="number">-11</span><span class="number">-01</span> <span class="operator">|</span> sale    <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span>  <span class="number">2000.25</span> <span class="operator">|</span>    <span class="number">402</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+------------+---------+--------------+----------+--------+-----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第一个参数是起始位置</span></span><br><span class="line"><span class="comment">-- 第二个参数是展示条数</span></span><br></pre></td></tr></table></figure>

<h5 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> name regexp <span class="string">&#x27;^j.*(n|g)$&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex  <span class="operator">|</span> age <span class="operator">|</span> hire_date  <span class="operator">|</span> post     <span class="operator">|</span> post_comment <span class="operator">|</span> salary  <span class="operator">|</span> office <span class="operator">|</span> depart_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+---------+--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span> <span class="number">2017</span><span class="number">-03</span><span class="number">-01</span> <span class="operator">|</span> Handsame <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="number">7300.33</span> <span class="operator">|</span>    <span class="number">401</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+------+-----+------------+----------+--------------+---------+--------+-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="连表操作"><a href="#连表操作" class="headerlink" title="连表操作"></a>连表操作</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 准备两张表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dep(</span><br><span class="line">  id <span class="type">int</span></span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">16</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">16</span>),</span><br><span class="line">  sex enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">  age <span class="type">int</span>,</span><br><span class="line">  dep_id <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入数据</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dep(name) <span class="keyword">values</span>(<span class="string">&#x27;Engineer&#x27;</span>), (<span class="string">&#x27;HR&#x27;</span>),(<span class="string">&#x27;Sake&#x27;</span>),(<span class="string">&#x27;Operate&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(name, sex, age, dep_id) <span class="keyword">values</span></span><br><span class="line">  (<span class="string">&#x27;jason&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">48</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;kevin&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="string">&#x27;nick&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">28</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="string">&#x27;owen&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">18</span>, <span class="number">4</span>),</span><br><span class="line">  (<span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">18</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p><strong>拼接方式</strong></p>
<ul>
<li>inner join （内连接）</li>
<li>left join （左连接）</li>
<li>right join （右连接）</li>
<li>union （全连接）</li>
</ul>
<p><strong>以下是不推荐的连表查询</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 不推荐的连表查询</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp,dep <span class="keyword">where</span> emp.dep_id <span class="operator">=</span> dep.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> dep_id <span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Engineer <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> nick  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Sake     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">4</span> <span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Operate  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="inner-join"><a href="#inner-join" class="headerlink" title="inner join"></a>inner join</h6><blockquote>
<p>只拼接两张表中共有的数据部分</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">inner</span> <span class="keyword">join</span> dep <span class="keyword">on</span> emp.dep_id <span class="operator">=</span> dep.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> dep_id <span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Engineer <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> nick  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Sake     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">4</span> <span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Operate  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+----+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="left-join"><a href="#left-join" class="headerlink" title="left join"></a>left join</h6><blockquote>
<p>左表所有的数据都展示出来，没有对应的项就用NULL占位。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">left</span> <span class="keyword">join</span> dep <span class="keyword">on</span> emp.dep_id <span class="operator">=</span> dep.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> dep_id <span class="operator">|</span> id   <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> Engineer <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> nick  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">28</span> <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> Sake     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">4</span> <span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> Operate  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> jerry <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+------+----------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="right-join"><a href="#right-join" class="headerlink" title="right join"></a>right join</h6><blockquote>
<p>右表所有的数据都展示出来，没有对应的项就用NULL占位。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">right</span> <span class="keyword">join</span> dep <span class="keyword">on</span> emp.dep_id <span class="operator">=</span> dep.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age  <span class="operator">|</span> dep_id <span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Engineer <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>   <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> nick  <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">28</span> <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Sake     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">4</span> <span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Operate  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">6</span> <span class="operator">|</span> jerry <span class="operator">|</span> female <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">5</span> <span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> Music    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> Play     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="union"><a href="#union" class="headerlink" title="union"></a>union</h6><blockquote>
<p>左右两表的数据都展示出来</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">left</span> <span class="keyword">join</span> dep <span class="keyword">on</span> emp.dep_id <span class="operator">=</span> dep.id <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">right</span> <span class="keyword">join</span> dep <span class="keyword">on</span> emp.dep_id <span class="operator">=</span> dep.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age  <span class="operator">|</span> dep_id <span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Engineer <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>   <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> HR       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> nick  <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">28</span> <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Sake     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> owen  <span class="operator">|</span> male   <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">4</span> <span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Operate  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">6</span> <span class="operator">|</span> jerry <span class="operator">|</span> female <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span>      <span class="number">5</span> <span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> Music    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> Play     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+--------+------+--------+----+----------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h5><blockquote>
<p>子查询就是我们平时解决问题的思路，分步骤解决问题。<em>将一个查询语句的结果当作另外一个语句的条件去使用。</em></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 查询部门是Engineer或者HR的员工信息</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> dep_id <span class="keyword">in</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dep <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;Engineer&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;HR&#x27;</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> sex    <span class="operator">|</span> age <span class="operator">|</span> dep_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> jason <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> egon  <span class="operator">|</span> female <span class="operator">|</span>  <span class="number">48</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> kevin <span class="operator">|</span> male   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+-----+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>表的查询结果，可以作为其他表的查询条件，也可以通过起别名的方式把它作为一张虚拟表与其他表进行关联。</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/05/Python%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF-46-MySQL/">Python全栈之路-46-MySQL</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-05</time><div class="content"><h3 id="今日主要内容"><a href="#今日主要内容" class="headerlink" title="今日主要内容"></a>今日主要内容</h3><ul>
<li>约束条件</li>
<li>表与表之间建关系(约束)</li>
<li>修改表的完整语法大全</li>
<li>复制表</li>
</ul>
<h4 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h4><h5 id="default默认值"><a href="#default默认值" class="headerlink" title="default默认值"></a>default默认值</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># 补充：插入数据的时候可以指定字段</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t1(id <span class="type">int</span>,name <span class="type">char</span>(<span class="number">16</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t1(name,id) <span class="keyword">values</span>(<span class="string">&#x27;Jason&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.04</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 创建一张带有枚举的表，并且带有默认值。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t2(id <span class="type">int</span>, name <span class="type">char</span>(<span class="number">16</span>) <span class="keyword">not</span> <span class="keyword">null</span>, gender enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;others&#x27;</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t2;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type                           <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)                        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>)                       <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender <span class="operator">|</span> enum(<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;others&#x27;</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> male    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入两条数据，一条带枚举，一条不带。</span><br><span class="line"><span class="comment">-- 注意：想要插入带有默认枚举，必须要在前面指定字段，要不然无法添加。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t2(id, name) <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;Jaosn&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t2 <span class="keyword">values</span>(<span class="number">2</span>, <span class="string">&#x27;Egon&#x27;</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t2;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span> gender <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jaosn <span class="operator">|</span> male   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Egon  <span class="operator">|</span> female <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+--------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h5 id="UNIQUE（唯一）"><a href="#UNIQUE（唯一）" class="headerlink" title="UNIQUE（唯一）"></a>UNIQUE（唯一）</h5><h6 id="单列唯一"><a href="#单列唯一" class="headerlink" title="单列唯一"></a>单列唯一</h6><blockquote>
<p>限制某一字段值都是唯一的，不可重复。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张单列唯一表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t3(id <span class="type">int</span> <span class="keyword">unique</span>, name <span class="type">char</span>(<span class="number">16</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入两条<span class="string">&#x27;id&#x27;</span>值相同的数据，发现返回报错，不可添加。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t3 <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">&#x27;Jason&#x27;</span>), (<span class="number">1</span>, <span class="string">&#x27;ShanShan&#x27;</span>);</span><br><span class="line"><span class="number">1062</span> <span class="operator">-</span> Duplicate entry <span class="string">&#x27;1&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;id&#x27;</span></span><br><span class="line"></span><br><span class="line"># 插入两条<span class="string">&#x27;id&#x27;</span>值不同的数据，发现可以正常添加。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t3 <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">&#x27;Jason&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;ShanShan&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t3;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> ShanShan <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="联合唯一"><a href="#联合唯一" class="headerlink" title="联合唯一"></a>联合唯一</h6><blockquote>
<p>限制多个列的值为唯一， 不可重复。</p>
</blockquote>
<p>比如：ip+port这种候，ip是可以重复，port也是可以重复，但是ip和port在一起时必须是唯一。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张联合唯一表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t4(id <span class="type">int</span> <span class="keyword">unique</span>, ip <span class="type">char</span>(<span class="number">16</span>), port <span class="type">int</span>, <span class="keyword">unique</span>(ip, port));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t4;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> YES  <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ip    <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> YES  <span class="operator">|</span> MUL <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> port  <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入两条不同数据，成功插入。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t4 <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">80</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t4 <span class="keyword">values</span>(<span class="number">2</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">443</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t4;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> ip        <span class="operator">|</span> port <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="operator">|</span>   <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="operator">|</span>  <span class="number">443</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.09</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入一条相同数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t4 <span class="keyword">values</span>(<span class="number">3</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">80</span>);</span><br><span class="line"><span class="number">1062</span> <span class="operator">-</span> Duplicate entry <span class="string">&#x27;127.0.0.1-80&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;ip&#x27;</span></span><br></pre></td></tr></table></figure>

<h6 id="PRIMARY-KEY（主键）"><a href="#PRIMARY-KEY（主键）" class="headerlink" title="PRIMARY KEY（主键）"></a>PRIMARY KEY（主键）</h6><ol>
<li>单从约束效果上来看<code>PRIMARY KEY</code>等价于<code>not null + unique</code>，<em>非空且唯一</em>。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张<span class="keyword">PRIMARY</span> KEY的表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t5(id <span class="type">int</span> <span class="keyword">primary</span> key);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t5;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type    <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"># 验证是否可以为空</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t5 <span class="keyword">values</span>(<span class="keyword">null</span>);</span><br><span class="line"><span class="number">1048</span> <span class="operator">-</span> <span class="keyword">Column</span> <span class="string">&#x27;id&#x27;</span> cannot be <span class="keyword">null</span></span><br><span class="line"></span><br><span class="line"># 验证值是否为唯一</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t5 <span class="keyword">values</span>(<span class="number">1</span>), (<span class="number">1</span>);</span><br><span class="line"><span class="number">1062</span> <span class="operator">-</span> Duplicate entry <span class="string">&#x27;1&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;PRIMARY&#x27;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>除了有约束效果外，它还是<code>Innodb</code>存储引擎组织数据的依据。<code>Innodb</code>存储引擎在创建表的时候必须有<code>PRIIMARY KEY</code>。<em>因为它类似于书的目录，能够帮助提示查询效率并且也是建表的依据。</em></li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 一张表中有且只有一个主键，如果你没有设置主键，那么会从上往下搜索，直到遇到一个非空且唯一的字段，将它自动升级为主键。</span></span><br><span class="line"></span><br><span class="line"># 创建一张有非空且唯一值的约束条件，看看是否会成为主键。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t6(id <span class="type">int</span>, age <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>, addr <span class="type">char</span>(<span class="number">32</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t6;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> age   <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> addr  <span class="operator">|</span> <span class="type">char</span>(<span class="number">32</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2. 如果表中没有主键，也没有其他任何的非空且唯一字段，那么Innodb会采用自己内部提供的一个隐藏字段作为主键。隐藏意味着你无法使用它，就无法提示查询速度。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3. 一张表中通常都应该有一个主键字段，并且通常将id字段作为主键。</span></span><br><span class="line"># 单个主键</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t7(id <span class="type">int</span> <span class="keyword">primary</span> key, name <span class="type">char</span>(<span class="number">16</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t7;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"># 联合主键</span><br><span class="line"><span class="comment">-- 多个字段联合起来作为表的主键，本质还是一个主键</span></span><br><span class="line"><span class="comment">-- 比如：一个员工（管理者）可以同时属于多个部门，比如既管理技术部，又管理产品部。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t8(id <span class="type">int</span>, ip <span class="type">char</span>(<span class="number">16</span>), port <span class="type">int</span>, <span class="keyword">primary</span> key(ip, port));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t8;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ip    <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> port  <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<p><strong>auto_increment（自增）</strong></p>
<blockquote>
<p>当编号特别多的时候，人为的去维护太麻烦，所以auto_increment就是用于自动填充序号，尤其主键。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t9(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, name <span class="type">char</span>(<span class="number">16</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9(name) <span class="keyword">values</span>(<span class="string">&#x27;Jason&#x27;</span>), (<span class="string">&#x27;Marcos&#x27;</span>), (<span class="string">&#x27;Shan&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">3</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Marcos <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Shan   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意auto_increment通常都是加在主键上的，不能给普通字段加。</span></span><br></pre></td></tr></table></figure>

<p><strong>结论</strong></p>
<p>以后创建表的id(数据的唯一标识id、uid、sid)字段的时候，要设置为主键并且为自动填充。</p>
<p><strong>补充</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- delete from 在删除表中数据的时候，主键的自增不会停止</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Marcos <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Shan   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">delete</span> <span class="keyword">from</span> t9;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9(name) <span class="keyword">values</span>(<span class="string">&#x27;Jason&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Jason <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- truncate 才会清空表数据并且重置主键</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> Jason <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> Jason <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">truncate</span> t9;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9(name) <span class="keyword">values</span>(<span class="string">&#x27;Jason&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="表与表之间建关系"><a href="#表与表之间建关系" class="headerlink" title="表与表之间建关系"></a>表与表之间建关系</h4><h5 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h5><p>外键就是用来帮助我们建立表与表之间关系的，<code>foreign key</code>。</p>
<h5 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h5><p>表与表之间最多只有四种关系</p>
<ul>
<li>一对多关系</li>
<li>多对多关系</li>
<li>一对一关系</li>
<li>没有关系</li>
</ul>
<h6 id="一对多关系"><a href="#一对多关系" class="headerlink" title="一对多关系"></a>一对多关系</h6><blockquote>
<p>确定表与表之间关系的时候，一定要换位思考。</p>
</blockquote>
<p>假如有两张表，一张存储员工信息，一张存储部门信息。先站在员工表考虑,员工表里面的一个员工能否对应部门表里面的多个部门，是不能！在站在部门表考虑,部门表里面的一个部门是否能对应多个员工，是可以！</p>
<p>结论： <em>员工表与部门表只是单向的一对多成立，那么员工表和部门表就是“一对多”表关系。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- foreign key</span></span><br><span class="line"><span class="comment">--    1. 一对多关系，外键字段建在多的一方；</span></span><br><span class="line"><span class="comment">--    2. 在创建表的时候，一定要先建被关联表；</span></span><br><span class="line"><span class="comment">--    3. 在录入数据的时候，也必须先录入被关联表；</span></span><br><span class="line"></span><br><span class="line"># 先创建部门表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> dep(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, dep_name <span class="type">char</span>(<span class="number">16</span>), dep_desc <span class="type">char</span>(<span class="number">32</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"># 在创建员工表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> emp(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, name <span class="type">char</span>(<span class="number">16</span>), gender enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;others&#x27;</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span>, dep_id <span class="type">int</span>, <span class="keyword">foreign</span> key(dep_id) <span class="keyword">references</span> dep(id) <span class="keyword">on</span> update cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"># 先插入被部门表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> dep(dep_name, dep_desc) <span class="keyword">values</span>(<span class="string">&#x27;ProjectD&#x27;</span>, <span class="string">&#x27;ConnectedP&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> dep(dep_name, dep_desc) <span class="keyword">values</span>(<span class="string">&#x27;EngineeringD&#x27;</span>, <span class="string">&#x27;Work&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> dep(dep_name, dep_desc) <span class="keyword">values</span>(<span class="string">&#x27;TechnologyB&#x27;</span>, <span class="string">&#x27;ResearchT&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> selesct <span class="operator">*</span> <span class="keyword">from</span> dep;</span><br><span class="line"><span class="number">1064</span> <span class="operator">-</span> You have an error <span class="keyword">in</span> your <span class="keyword">SQL</span> syntax; <span class="keyword">check</span> the manual that corresponds <span class="keyword">to</span> your MySQL server version <span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> use near <span class="string">&#x27;selesct * from dep&#x27;</span> <span class="keyword">at</span> line <span class="number">1</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> dep_name     <span class="operator">|</span> dep_desc   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ProjectD     <span class="operator">|</span> ConnectedP <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> EngineeringD <span class="operator">|</span> Work       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> TechnologyB  <span class="operator">|</span> ResearchT  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"># 在插入员工表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> emp(name, gender, dep_id) <span class="keyword">values</span>(<span class="string">&#x27;Jason&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), (<span class="string">&#x27;Shan&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;2&#x27;</span>), (<span class="string">&#x27;Marcos&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;3&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> dep_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason  <span class="operator">|</span> male   <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Shan   <span class="operator">|</span> female <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Marcos <span class="operator">|</span> male   <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 当现在dep_id出现变动或者像改变的时候非常困难，为了方便同步延伸出了以下方式。</span></span><br><span class="line"><span class="comment">-- on update cascade: 级联更新</span></span><br><span class="line"><span class="comment">-- on delete cascade: 级联删除</span></span><br><span class="line"></span><br><span class="line"># 把之前的创建的表删除掉，在重新创建并插入数据（按照以上步骤），但是员工表需要添加级联删除和更新。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> emp(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, name <span class="type">char</span>(<span class="number">16</span>), gender enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;others&#x27;</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span>, dep_id <span class="type">int</span>, <span class="keyword">foreign</span> key(dep_id) <span class="keyword">references</span> dep(id) <span class="keyword">on</span> update cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"># 查看emp，我们要把dep_id为<span class="number">1</span>的都变更为一百。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> dep_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason  <span class="operator">|</span> male   <span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Shan   <span class="operator">|</span> female <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Marcos <span class="operator">|</span> male   <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"># 更新dep_id</span><br><span class="line">mysql<span class="operator">&gt;</span> update dep <span class="keyword">set</span> id<span class="operator">=</span><span class="number">100</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> dep_name     <span class="operator">|</span> dep_desc   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> EngineeringD <span class="operator">|</span> Work       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> TechnologyB  <span class="operator">|</span> ResearchT  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> ProjectD     <span class="operator">|</span> ConnectedP <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> gender <span class="operator">|</span> dep_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason  <span class="operator">|</span> male   <span class="operator">|</span>    <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Shan   <span class="operator">|</span> female <span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> Marcos <span class="operator">|</span> male   <span class="operator">|</span>      <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+--------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="一对多关系-1"><a href="#一对多关系-1" class="headerlink" title="一对多关系"></a>一对多关系</h6><p>假如有两张表，一张存储书籍信息，一张存储作者信息。先站在书籍表考虑，一本书是否有多个作者，是能！在站在作者表考虑，一名作者是否可以写多本书，是能！</p>
<p>结论：<em>书籍表和作者表是双向的一对多，那么书籍表和作者表就是“多对多”关系表。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 针对多对多字段关系，不能在两张原有的表中创建外键，需要你单独再开设一张，专门用来存储两张表数据之间的关系。</span></span><br><span class="line"></span><br><span class="line"># 创建两张基本表，在创建一个中间表。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> book(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, title <span class="type">varchar</span>(<span class="number">32</span>), price <span class="type">int</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> author(id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, name <span class="type">char</span>(<span class="number">16</span>), age <span class="type">int</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> Book2Author(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  author_id <span class="type">int</span>,</span><br><span class="line">  book_id <span class="type">int</span>,</span><br><span class="line">  <span class="keyword">foreign</span> key(author_id) <span class="keyword">references</span> author(id) <span class="keyword">on</span> update cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade,</span><br><span class="line">  <span class="keyword">foreign</span> key(book_id) <span class="keyword">references</span> book(id) <span class="keyword">on</span> update cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade</span><br><span class="line">);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"># 向三张表插入数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> book(title, price) <span class="keyword">values</span>(<span class="string">&#x27;A&#x27;</span>,<span class="number">100</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> book(title, price) <span class="keyword">values</span>(<span class="string">&#x27;B&#x27;</span>,<span class="number">300</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> book(title, price) <span class="keyword">values</span>(<span class="string">&#x27;C&#x27;</span>,<span class="number">70</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> book;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> title <span class="operator">|</span> price <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A     <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B     <span class="operator">|</span>   <span class="number">300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C     <span class="operator">|</span>    <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> author(name, age) <span class="keyword">values</span>(<span class="string">&#x27;Marcos&#x27;</span>, <span class="number">25</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> author(name, age) <span class="keyword">values</span>(<span class="string">&#x27;Shan&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> author;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+-----+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> age <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+-----+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Marcos <span class="operator">|</span>  <span class="number">25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Shan   <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+-----+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> Book2Author(author_id, book_id) <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> Book2Author(author_id, book_id) <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> Book2Author(author_id, book_id) <span class="keyword">values</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> Book2Author(author_id, book_id) <span class="keyword">values</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Book2Author;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> author_id <span class="operator">|</span> book_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span>       <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span>       <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"># 删除</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">delete</span> <span class="keyword">from</span> author <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> author;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+-----+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span> age <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+-----+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> Shan <span class="operator">|</span>  <span class="number">18</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+-----+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> book;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> title <span class="operator">|</span> price <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A     <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B     <span class="operator">|</span>   <span class="number">300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C     <span class="operator">|</span>    <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Book2Author;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> author_id <span class="operator">|</span> book_id <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-----------+---------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>

<h6 id="一对一关系"><a href="#一对一关系" class="headerlink" title="一对一关系"></a>一对一关系</h6><p>假如有两张表，一张用户表，一张详情表。先站在用户表考虑，一个用户能否对应多个用户详情，是不能！在站在详情表考虑，一个用户详情信息是否会对应多个用户，是不能！</p>
<p>结论：<em>单向的一对多都不成立，那么这个时候两者之间的表关系就是一对一或者没有关系。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 一对一外键字段建在任意一方都可以，但是推荐建在查询频率比较高的表中</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> authordetail(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  phone <span class="type">int</span>,</span><br><span class="line">  addr <span class="type">varchar</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> authors(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">  age <span class="type">int</span>,</span><br><span class="line">  <span class="comment">-- 要保证唯一性，这个值之能是一个对一个，不能重复。</span></span><br><span class="line">  authordetail_id <span class="type">int</span> <span class="keyword">unique</span>,</span><br><span class="line">  <span class="keyword">foreign</span> key(authordetail_id) <span class="keyword">references</span> authordetail(id) <span class="keyword">on</span> update cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade</span><br><span class="line">);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="修改表的完整语法大全"><a href="#修改表的完整语法大全" class="headerlink" title="修改表的完整语法大全"></a>修改表的完整语法大全</h4><blockquote>
<p>MySQL对大小写是不敏感的</p>
</blockquote>
<h5 id="修改表名"><a href="#修改表名" class="headerlink" title="修改表名"></a>修改表名</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 rename 新表名;</span><br></pre></td></tr></table></figure>

<h5 id="增加字段"><a href="#增加字段" class="headerlink" title="增加字段"></a>增加字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 字段名 字段类型(宽度) 约束条件;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 字段名 字段类型(宽度) 约束条件 <span class="keyword">first</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 字段名 字段类型(宽度) 约束条件 after 字段名;</span><br></pre></td></tr></table></figure>

<h5 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 字段名;</span><br></pre></td></tr></table></figure>

<h5 id="修改字段"><a href="#修改字段" class="headerlink" title="修改字段"></a>修改字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 modify 字段名 字段类型(宽度) 约束条件;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 change 旧字段名 新字段名 字段类型(宽度) 约束条件;</span><br></pre></td></tr></table></figure>

<h4 id="复制表"><a href="#复制表" class="headerlink" title="复制表"></a>复制表</h4><blockquote>
<p>我们每次查询的sql语句结果也是一张虚拟表</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张简单的复制表</span><br><span class="line"><span class="comment">-- 注意：不能复制主键、外键、索引 ...，只能复制表结构和数据。</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> copy_dep <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dep;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">3</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> copy_dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> dep_name     <span class="operator">|</span> dep_desc   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> EngineeringD <span class="operator">|</span> Work       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> TechnologyB  <span class="operator">|</span> ResearchT  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> ProjectD     <span class="operator">|</span> ConnectedP <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> dep_name     <span class="operator">|</span> dep_desc   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> EngineeringD <span class="operator">|</span> Work       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> TechnologyB  <span class="operator">|</span> ResearchT  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> ProjectD     <span class="operator">|</span> ConnectedP <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+--------------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> copy_dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field    <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id       <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> dep_name <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> dep_desc <span class="operator">|</span> <span class="type">char</span>(<span class="number">32</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> dep;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field    <span class="operator">|</span> Type     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id       <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> dep_name <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> dep_desc <span class="operator">|</span> <span class="type">char</span>(<span class="number">32</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br><span class="line"></span><br><span class="line"># 还可以添加条件进行复制,但还是只能复制表结构，</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> copy_book <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> book <span class="keyword">where</span> price<span class="operator">&gt;</span><span class="number">70</span>;</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> copy_book;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> title <span class="operator">|</span> price <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A     <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B     <span class="operator">|</span>   <span class="number">300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> book;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> title <span class="operator">|</span> price <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A     <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B     <span class="operator">|</span>   <span class="number">300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C     <span class="operator">|</span>    <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.07</span> sec)</span><br></pre></td></tr></table></figure>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/02/Python%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF-45-MySQL/">Python全栈之路-45-MySQL</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-02</time><div class="content"><h3 id="今日内容概要"><a href="#今日内容概要" class="headerlink" title="今日内容概要"></a>今日内容概要</h3><ul>
<li>存储类型</li>
<li>数据类型<ul>
<li>数值类型</li>
<li>字符串类型</li>
<li>日期和时间类型</li>
</ul>
</li>
<li>严格模式</li>
<li>枚举与集合类型</li>
</ul>
<h4 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h4><p>日常生活中文件格式有很多种，并且针对不同的文件格式会有对应不同的存储方式和处理机制，比如（txt、pdf、word、mp4…）。<em>针对不同的数据应该有对应的处理机制来存储，存储引擎就是不同的处理机制。</em></p>
<h5 id="MySQL主要存储引擎"><a href="#MySQL主要存储引擎" class="headerlink" title="MySQL主要存储引擎"></a>MySQL主要存储引擎</h5><ol>
<li>Innodb</li>
<li>MyIsam</li>
<li>Memory</li>
<li>BlackHole</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 查看所有数据引擎</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> engines;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"><span class="operator">|</span> Engine             <span class="operator">|</span> Support <span class="operator">|</span> Comment                                                        <span class="operator">|</span> Transactions <span class="operator">|</span> XA   <span class="operator">|</span> Savepoints <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"><span class="operator">|</span> InnoDB             <span class="operator">|</span> <span class="keyword">DEFAULT</span> <span class="operator">|</span> Supports transactions, <span class="type">row</span><span class="operator">-</span>level locking, <span class="keyword">and</span> <span class="keyword">foreign</span> keys     <span class="operator">|</span> YES          <span class="operator">|</span> YES  <span class="operator">|</span> YES        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MRG_MYISAM         <span class="operator">|</span> YES     <span class="operator">|</span> Collection <span class="keyword">of</span> identical MyISAM tables                          <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MEMORY             <span class="operator">|</span> YES     <span class="operator">|</span> Hash based, stored <span class="keyword">in</span> memory, useful <span class="keyword">for</span> temporary tables      <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> BLACKHOLE          <span class="operator">|</span> YES     <span class="operator">|</span> <span class="operator">/</span>dev<span class="operator">/</span><span class="keyword">null</span> storage engine (anything you write <span class="keyword">to</span> it disappears) <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MyISAM             <span class="operator">|</span> YES     <span class="operator">|</span> MyISAM storage engine                                          <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> CSV                <span class="operator">|</span> YES     <span class="operator">|</span> CSV storage engine                                             <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ARCHIVE            <span class="operator">|</span> YES     <span class="operator">|</span> Archive storage engine                                         <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> PERFORMANCE_SCHEMA <span class="operator">|</span> YES     <span class="operator">|</span> Performance Schema                                             <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> FEDERATED          <span class="operator">|</span> <span class="keyword">NO</span>      <span class="operator">|</span> Federated MySQL storage engine                                 <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"></span><br><span class="line"># 创建各个数据引擎数据表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t1(id <span class="type">int</span>) engine<span class="operator">=</span>innodb;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t2(id <span class="type">int</span>) engine<span class="operator">=</span>myisam;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t3(id <span class="type">int</span>) engine<span class="operator">=</span>memory;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t4(id <span class="type">int</span>) engine<span class="operator">=</span>blackhole;</span><br></pre></td></tr></table></figure>

<h5 id="各数据引擎底层文件分布及作用"><a href="#各数据引擎底层文件分布及作用" class="headerlink" title="各数据引擎底层文件分布及作用"></a>各数据引擎底层文件分布及作用</h5><blockquote>
<blockquote>
<ol>
<li>索引类似于目录，基于目录查找数据。速度更快。</li>
<li>Memory只有表数据结构，因为数据都存放在内存中，重启服务就会释放数据，所以只有一个文件。</li>
<li>BlackHole只有数据结构，不会存储任何数据，丢进去的数据会立刻消失，所以只有一个文件。</li>
</ol>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>文件</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>InnoDB</td>
<td>t1.frm</td>
<td>InnoDB 表结构</td>
</tr>
<tr>
<td>InnoDB</td>
<td>t1.ibd</td>
<td>InnoDB 表数据</td>
</tr>
<tr>
<td>MyIsam</td>
<td>t2.frm</td>
<td>MyIsam 表结构</td>
</tr>
<tr>
<td>MyIsam</td>
<td>t2.MYD</td>
<td>MyIsam 表数据</td>
</tr>
<tr>
<td>MyIsam</td>
<td>t2.MYI</td>
<td>MyIsam 索引</td>
</tr>
<tr>
<td>Memory</td>
<td>t3.frm</td>
<td>Memory 表结构</td>
</tr>
<tr>
<td>BlackHole</td>
<td>t4.frm</td>
<td>BlackHole 表结构</td>
</tr>
</tbody></table>
<h5 id="Innodb"><a href="#Innodb" class="headerlink" title="Innodb"></a>Innodb</h5><blockquote>
<p>Innodb是MySQL5.5版本之后默认的存储引擎</p>
</blockquote>
<h5 id="MyIsam"><a href="#MyIsam" class="headerlink" title="MyIsam"></a>MyIsam</h5><blockquote>
<p>MyIsam是MySQL5.5版本之前默认的存储引擎</p>
</blockquote>
<h5 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h5><blockquote>
<p>内存引擎，数据全部存放在内存中，如果出现断电数据就会丢失。</p>
</blockquote>
<h5 id="BlackHole"><a href="#BlackHole" class="headerlink" title="BlackHole"></a>BlackHole</h5><blockquote>
<p>无论存储什么，都会立刻消失。</p>
</blockquote>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>MySQL中定义数据字段的类型对你数据库的优化是非常重要的。</p>
<p>MySQL支持多种类型，大致可以分为三类：数值、日期/时间和字符串(字符)类型。</p>
<h5 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h5><p>MySQL支持所有标准SQL数值数据类型。</p>
<p>这些类型包括严格数值数据类型(INTEGER、SMALLINT、DECIMAL和NUMERIC)，以及近似数值数据类型(FLOAT、REAL和DOUBLE PRECISION)。</p>
<p>关键字INT是INTEGER的同义词，关键字DEC是DECIMAL的同义词。BIT数据类型保存位字段值，并且支持MyISAM、MEMORY、InnoDB和BDB表。</p>
<p>作为SQL标准的扩展，MySQL也支持整数类型TINYINT、MEDIUMINT和BIGINT。下面的表显示了需要的每个整数类型的存储和范围。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>范围（有符号）</th>
<th>范围（无符号）</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1 byte</td>
<td>(-128，127)</td>
<td>(0，255)</td>
<td>小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2 bytes</td>
<td>(-32 768，32 767)</td>
<td>(0，65 535)</td>
<td>大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3 bytes</td>
<td>(-8 388 608，8 388 607)</td>
<td>(0，16 777 215)</td>
<td>大整数值</td>
</tr>
<tr>
<td>INT或INTEGER</td>
<td>4 bytes</td>
<td>(-2 147 483 648，2 147 483 647)</td>
<td>(0，4 294 967 295)</td>
<td>大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8 bytes</td>
<td>(-9,223,372,036,854,775,808，9 223 372 036 854 775 807)</td>
<td>(0，18 446 744 073 709 551 615)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4 bytes</td>
<td>(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td>0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td>单精度 浮点数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8 bytes</td>
<td>(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>双精度 浮点数值</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td>依赖于M和D的值</td>
<td>依赖于M和D的值</td>
<td>小数值</td>
</tr>
</tbody></table>
<h6 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h6><blockquote>
<p>一般用在ID、身份证、等级等</p>
</blockquote>
<p><strong>整型类型是否有符号及超出</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"># 创建指定数值类型的表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t8(id tinyint);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t8;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type       <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> tinyint(<span class="number">4</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Q<span class="operator">&amp;</span>A 验证存储数据是，是否存在符号，并是否会超出最大值？ ###</span><br><span class="line"># 超出会直接报错</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t8 <span class="keyword">values</span>(<span class="number">-129</span>),(<span class="number">256</span>);</span><br><span class="line"><span class="number">1264</span> <span class="operator">-</span> <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;id&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 未超出会直接插入成功，超出限制只存最大可接受值，并且默认情况下是带有符号。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t8 <span class="keyword">values</span>(<span class="number">-128</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t8;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">-128</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t8 <span class="keyword">values</span>(<span class="number">127</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t8;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">-128</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">127</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"></span><br><span class="line">### Q<span class="operator">&amp;</span>A 是否可以去除默认符号，插入带符号数值会怎样？ ###</span><br><span class="line"># 创建无符号表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t9(id tinyint unsigned);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type                <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> tinyint(<span class="number">3</span>) unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 插入带有符号并且超出的值会直接报错</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9 <span class="keyword">values</span>(<span class="number">-1</span>),(<span class="number">254</span>);</span><br><span class="line"><span class="number">1264</span> <span class="operator">-</span> <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;id&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入不带符号并且为超出的情况下，创建成功。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9 <span class="keyword">values</span>(<span class="number">0</span>),(<span class="number">255</span>);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">255</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br></pre></td></tr></table></figure>

<h6 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h6><blockquote>
<p>一般用作身高、体重、薪资等</p>
</blockquote>
<p><strong>存储限制</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span>(<span class="number">255</span>,<span class="number">30</span>) # 总共<span class="number">255</span>位，小数部分占<span class="number">30</span>位。</span><br><span class="line"><span class="keyword">double</span>(<span class="number">255</span>,<span class="number">30</span>) # 总共<span class="number">255</span>位，小数部分占<span class="number">30</span>位。</span><br><span class="line"><span class="type">decimal</span>(<span class="number">65</span>,<span class="number">30</span>) # 总共<span class="number">65</span>位，小数部分占<span class="number">30</span>位。</span><br></pre></td></tr></table></figure>

<p><strong>精确度验证</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"># 创建三张不同浮点型的表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t15(id <span class="type">int</span>,height <span class="type">float</span>(<span class="number">255</span>,<span class="number">30</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t15;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type          <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> height <span class="operator">|</span> <span class="type">float</span>(<span class="number">255</span>,<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t16(id <span class="type">int</span>,height <span class="keyword">double</span>(<span class="number">255</span>,<span class="number">30</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t16;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type           <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> height <span class="operator">|</span> <span class="keyword">double</span>(<span class="number">255</span>,<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t17(id <span class="type">int</span>,height <span class="type">decimal</span>(<span class="number">65</span>,<span class="number">30</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t17;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type           <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> height <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">65</span>,<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+----------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 针对不同的浮点型表插入值</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t15 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1.111111111111111111111111111111</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t15;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> height                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">1.111111164093017600000000000000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t16 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1.111111111111111111111111111111</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t16;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> height                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">1.111111111111111200000000000000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t17 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1.111111111111111111111111111111</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t17;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> height                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">1.111111111111111111111111111111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------------------+</span></span><br></pre></td></tr></table></figure>

<p><strong>各浮点型对比，<em>float &lt; double &lt; decimal</em>，根据不同的场景进行选择，比如在高精度情况，就需要选择精度最高的浮点型。</strong></p>
<h5 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h5><blockquote>
<p>字符串类型指CHAR、VARCHAR、BINARY、VARBINARY、BLOB、TEXT、ENUM和SET。该节描述了这些类型如何工作以及如何在查询中使用这些类型。</p>
</blockquote>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>0-255 bytes</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535 bytes</td>
<td>变长字符串</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255 bytes</td>
<td>不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255 bytes</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65 535 bytes</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65 535 bytes</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16 777 215 bytes</td>
<td>二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16 777 215 bytes</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0-4 294 967 295 bytes</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4 294 967 295 bytes</td>
<td>极大文本数据</td>
</tr>
</tbody></table>
<h6 id="CHAR类型"><a href="#CHAR类型" class="headerlink" title="CHAR类型"></a>CHAR类型</h6><p><em>CHAR类型是定长的：MySQL总是根据定义的字符串长度分配足够的空间。</em> 当存储CHAR值时，MySQL会删除所有的末尾空格。CHAR值会根据需要采用空格进行填充以方便比较。</p>
<p><em>CHAR适合存储很短的字符串，或者所有值都接近同一个长度。</em> 例如，CHAR非常适合存储密码的MD5值，因为这是一个定长的值。对于经常变更的数据，CHAR也比VARCHAR更好，因为定长的CHAR类型不容易产生碎片。对于非常短的列，CHAR比VARCHAR在存储空间上也更有效率。例如用CHAR(1)来存储只有Y和N的值，如果采用单字节字符集只需要一个字节，但是VARCHAR(1)却需要两个字节，因为还有一个记录长度的额外字节。</p>
<h6 id="VARCHAR类型"><a href="#VARCHAR类型" class="headerlink" title="VARCHAR类型"></a>VARCHAR类型</h6><p><em>VARCHAR类型用于存储可变长字符串，是最常见的字符串数据类型。</em> 它比定长类型更节省空间，因为它仅使用必要的空间(例如，越短的字符串使用越少的空间)。有一种情况例外，如果MySQL表使用ROW_FORMAT=FIXED创建的话，每一行都会使用定长存储，这会很浪费空间。</p>
<p><em>VARCHAR需要使用1或2个额外字节记录字符串的长度：</em> 如果列的最大长度小于或等于255字节，则只使用1个字节表示，否则使用2个字节。假设采用latin1字符集，一个VARCHAR(10)的列需要11个字节的存储空间。VARCHAR(1000)的列则需要1002个字节，因为需要2个字节存储长度信息。</p>
<p><em>VARCHAR节省了存储空间，所以对性能也有帮助。但是，由于行是变长的，在UPDATE时可能使行变得比原来更长，这就导致需要做额外的工作。</em> 如果一个行占用的空间增长，并且在页内没有更多的空间可以存储，在这种情况下，不同的存储引擎的处理方式是不一样的。例如，MyISAM会将行拆成不同的片段存储，InnoDB则需要分裂页来使行可以放进页内。其他一些存储引擎也许从不在原数据位置更新数据。</p>
<p><strong>VARCHAR类型适用情况</strong></p>
<ul>
<li>字符串列的最大长度比平均长度大很多</li>
<li>列的更新很少，所以碎片不是问题</li>
<li>使用了像UTF-8这样复杂的字符集，每个字符都使用不同的字节数进行存储</li>
</ul>
<h6 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h6><p><strong>测试char和varchar在默认情况下插入数据的区别</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"># 创建<span class="type">char</span>和<span class="type">varchar</span>类型表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t18(id <span class="type">int</span>,name <span class="type">char</span>(<span class="number">4</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t18;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type    <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">char</span>(<span class="number">4</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t19(id <span class="type">int</span>,name <span class="type">varchar</span>(<span class="number">4</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t19;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type       <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)    <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">4</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line">### Q<span class="operator">&amp;</span>A 插入相同长度的数据，会有什么不同的反应？ ###</span><br><span class="line"># 创建<span class="type">char</span>和<span class="type">varchar</span>类型的表都插入了一个数据，但是显示并没有区别。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t18 <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t18;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t19 <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t19;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"># 尝试用<span class="keyword">char_length</span>统计字段长度，但是返回的结果还是一样，没有区别。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">char_length</span>(name) <span class="keyword">from</span> t18;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">char_length</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span>                 <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">char_length</span>(name) <span class="keyword">from</span> t19;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">char_length</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span>                 <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以肯定是char在硬盘上存的绝对是真正的数据，带有空格。但是在显示的时候MySQL会自动将多余的空格删除。</span></span><br></pre></td></tr></table></figure>

<p><strong>测试修改sql_mode，char和varchar插入数据的区别</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 修改全局sql_mode</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> sql_mode<span class="operator">=</span><span class="string">&#x27;STRICT_TRANS_TABLES,PAD_CHAR_TO_FULL_LENGTH&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"># 再次查看<span class="type">char</span>和<span class="type">varchar</span>的区别</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">char_length</span>(name) <span class="keyword">from</span> t18;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">char_length</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span>                 <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">char_length</span>(name) <span class="keyword">from</span> t19;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">char_length</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="operator">|</span>                 <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br><span class="line"></span><br><span class="line"># <span class="type">char</span>和<span class="type">varchar</span>都插入超过限制的字符，会直接报错。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t18 <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;jason&#x27;</span>);</span><br><span class="line"><span class="number">1406</span> <span class="operator">-</span> Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t19 <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;jason&#x27;</span>);</span><br><span class="line"><span class="number">1406</span> <span class="operator">-</span> Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 至此测试出以下两条：</span></span><br><span class="line"><span class="comment">--     1. char的数据超过特定字符直接报错，不够的字符会使用空格补全；</span></span><br><span class="line"><span class="comment">--     2. varchar的数据超过特定字符直接报错，不够的字符不会去管，只存储存在的数据；</span></span><br></pre></td></tr></table></figure>

<h5 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h5><p>表示时间值的日期和时间类型为DATETIME、DATE、TIMESTAMP、TIME和YEAR。</p>
<p>每个时间类型有一个有效值范围和一个”零”值，当指定不合法的MySQL不能表示的值时使用”零”值。</p>
<p>TIMESTAMP类型有专有的自动更新特性，将在后面描述。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小( bytes)</th>
<th>范围</th>
<th>格式</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01/9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>‘-838:59:59’/‘838:59:59’</td>
<td>HH:MM:SS</td>
<td>时间值或持续时间</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901/2155</td>
<td>YYYY</td>
<td>年份值</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:00/2038结束时间是第 2147483647 秒，北京时间 2038-1-19 11:14:07，格林尼治时间 2038年1月19日 凌晨 03:14:07</td>
<td>YYYYMMDD HHMMSS</td>
<td>混合日期和时间值，时间戳</td>
</tr>
</tbody></table>
<h4 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h4><p>何为严格模式，<em>简单来说就是MySQL自身对数据进行严格的校验（格式、长度、类型等）</em>，比如一个整型字段我们写入一个字符串类型的数据，在非严格模式下MySQL不会报错，同样如果定义了char或varchar类型的字段，当写入或更新的数据超过了定义的长度也不会报错。</p>
<p>我认为严格模式对于编程来说没有任何好处，虽然我们尽量在代码中做数据校验。MySQL开启了严格模式从一定程序上来讲是对我们代码的一种测试，如果我们的开发环境没有开启严格模式在开发过程中也没有遇到错误，那么在上线或代码移植的时候将有可能出现不兼容的情况，因此在开发过程做最好开启MySQL的严格模式。</p>
<h6 id="如何查看严格模式"><a href="#如何查看严格模式" class="headerlink" title="如何查看严格模式"></a>如何查看严格模式</h6><p><strong>注解：</strong></p>
<ul>
<li>like（模糊匹配/查询的关键字）<ul>
<li><code>%</code> : 匹配任意多个字符</li>
<li><code>_</code> : 任意单个字符</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> &quot;%mode&quot;;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name            <span class="operator">|</span> <span class="keyword">Value</span>                                                                                                                                     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> block_encryption_mode    <span class="operator">|</span> aes<span class="number">-128</span><span class="operator">-</span>ecb                                                                                                                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gtid_mode                <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_autoinc_lock_mode <span class="operator">|</span> <span class="number">1</span>                                                                                                                                         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_strict_mode       <span class="operator">|</span> <span class="keyword">ON</span>                                                                                                                                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> offline_mode             <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> pseudo_slave_mode        <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> rbr_exec_mode            <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> slave_exec_mode          <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sql_mode                 <span class="operator">|</span> ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br></pre></td></tr></table></figure>

<h6 id="开启并关闭严格模式"><a href="#开启并关闭严格模式" class="headerlink" title="开启并关闭严格模式"></a>开启并关闭严格模式</h6><p><strong>临时开启</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># 只对当前连接有效的开启方式，服务重启会丢失。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> sql_mode<span class="operator">=</span><span class="string">&#x27;ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> &quot;%mode&quot;;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name            <span class="operator">|</span> <span class="keyword">Value</span>                                                                                                                                     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> block_encryption_mode    <span class="operator">|</span> aes<span class="number">-128</span><span class="operator">-</span>ecb                                                                                                                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gtid_mode                <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_autoinc_lock_mode <span class="operator">|</span> <span class="number">1</span>                                                                                                                                         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_strict_mode       <span class="operator">|</span> <span class="keyword">ON</span>                                                                                                                                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> offline_mode             <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> pseudo_slave_mode        <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> rbr_exec_mode            <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> slave_exec_mode          <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sql_mode                 <span class="operator">|</span> ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 全局有效的开启方式，服务重启会丢失。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> sql_mode<span class="operator">=</span><span class="string">&#x27;ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> &quot;%mode&quot;;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name            <span class="operator">|</span> <span class="keyword">Value</span>                                                                                                                                     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> block_encryption_mode    <span class="operator">|</span> aes<span class="number">-128</span><span class="operator">-</span>ecb                                                                                                                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gtid_mode                <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_autoinc_lock_mode <span class="operator">|</span> <span class="number">1</span>                                                                                                                                         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> innodb_strict_mode       <span class="operator">|</span> <span class="keyword">ON</span>                                                                                                                                        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> offline_mode             <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> pseudo_slave_mode        <span class="operator">|</span> OFF                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> rbr_exec_mode            <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> slave_exec_mode          <span class="operator">|</span> STRICT                                                                                                                                    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sql_mode                 <span class="operator">|</span> ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------+-------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br></pre></td></tr></table></figure>

<p><strong>永久开启及关闭</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> linux下的my.cnf中找到<span class="string">&#x27;sql-mode=&#x27;</span>，找不到，可以在<span class="string">&#x27;[mysqld]&#x27;</span>下加入即可。</span></span><br><span class="line"></span><br><span class="line">// 开启严格模式</span><br><span class="line">sql-mode=&quot;ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</span><br><span class="line"></span><br><span class="line">//关闭严格模式</span><br><span class="line">sql-mode=&quot;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</span><br></pre></td></tr></table></figure>

<p><strong>sql_mode值的含义</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># ONLY_FULL_GROUP_BY</span><br><span class="line">对于GROUP BY聚合操作，如果在SELECT中的列，没有在GROUP BY中出现，那么将认为这个SQL是不合法的，因为列不在GROUP BY从句中</span><br><span class="line"></span><br><span class="line"># STRICT_TRANS_TABLES</span><br><span class="line">在该模式下，如果一个值不能插入到一个事务表中，则中断当前的操作，对非事务表不做任何限制</span><br><span class="line"></span><br><span class="line"># NO_ZERO_IN_DATE</span><br><span class="line">在严格模式，不接受月或日部分为0的日期。如果使用IGNORE选项，我们为类似的日期插入&#x27;0000-00-00&#x27;。在非严格模式，可以接受该日期，但会生成警告。</span><br><span class="line"></span><br><span class="line"># NO_ZERO_DATE</span><br><span class="line">在严格模式，不要将 &#x27;0000-00-00&#x27;做为合法日期。你仍然可以用IGNORE选项插入零日期。在非严格模式，可以接受该日期，但会生成警告</span><br><span class="line"></span><br><span class="line"># ERROR_FOR_DIVISION_BY_ZERO</span><br><span class="line">在严格模式，在INSERT或UPDATE过程中，如果被零除(或MOD(X，0))，则产生错误(否则为警告)。如果未给出该模式，被零除时MySQL返回NULL。如果用到INSERT IGNORE或UPDATE IGNORE中，MySQL生成被零除警告，但操作结果为NULL。</span><br><span class="line"></span><br><span class="line"># NO_AUTO_CREATE_USER</span><br><span class="line">防止GRANT自动创建新用户，除非还指定了密码。</span><br><span class="line"></span><br><span class="line"># NO_ENGINE_SUBSTITUTION</span><br><span class="line">如果需要的存储引擎被禁用或未编译，那么抛出错误。不设置此值时，用默认的存储引擎替代，并抛出一个异常</span><br></pre></td></tr></table></figure>

<h6 id="Mysql都支持哪些”sql-mode”模式"><a href="#Mysql都支持哪些”sql-mode”模式" class="headerlink" title="Mysql都支持哪些”sql_mode”模式"></a>Mysql都支持哪些”sql_mode”模式</h6><ul>
<li>ANSI</li>
<li>TRADITIONAL</li>
<li>STRICT_ALL_TABLES</li>
<li>STRICT_TRANS_TABLES</li>
</ul>
<p><strong>ANSI模式</strong></p>
<p>宽松模式，对插入数据进行校验，如果不符合定义类型或长度，对数据类型调整或截断保存，报warning警告。</p>
<p><strong>TRADITIONAL模式</strong></p>
<p>严格模式，当向mysql数据库插入数据时，进行数据的严格校验，保证错误数据不能插入，报error错误。用于事物时，会进行事物的回滚。</p>
<p><strong>STRICT_TRANS_TABLES模式</strong></p>
<p>严格模式，进行数据的严格校验，错误数据不能插入，报error错误。只对支持事务的表有效。</p>
<p><strong>STRICT_ALL_TABLES模式</strong></p>
<p>严格模式，进行数据的严格校验，错误数据不能插入，报error错误。对所有表都有效。</p>
<h5 id="枚举与集合类型"><a href="#枚举与集合类型" class="headerlink" title="枚举与集合类型"></a>枚举与集合类型</h5><h5 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h5><blockquote>
<p>enum，多选一</p>
</blockquote>
<h5 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h5><blockquote>
<p>set,多选多</p>
</blockquote>
<h5 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h5><p><strong>枚举测试</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张枚举表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(id <span class="type">int</span>,name <span class="type">char</span>(<span class="number">16</span>),gender enum(<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;famale&#x27;</span>,<span class="string">&#x27;others&#x27;</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type                           <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)                        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>)                       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender <span class="operator">|</span> enum(<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;famale&#x27;</span>,<span class="string">&#x27;others&#x27;</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+--------------------------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 插入一条特定值数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;Jason Mraz&#x27;</span>,<span class="string">&#x27;male&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name             <span class="operator">|</span> gender <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Jason Mraz       <span class="operator">|</span> male   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+</span></span><br><span class="line"></span><br><span class="line"># 插入一条非特定值数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;Elean&#x27;</span>,<span class="string">&#x27;HAHA&#x27;</span>);</span><br><span class="line"><span class="number">1265</span> <span class="operator">-</span> Data truncated <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;gender&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 结论：</span></span><br><span class="line"><span class="comment">--     枚举字段，后期在存数据的时候只能从枚举里面选择一个存储</span></span><br></pre></td></tr></table></figure>

<p><strong>集合测试</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># 创建一张集合表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> teacher(id <span class="type">int</span>, name <span class="type">char</span>(<span class="number">16</span>), gender enum(<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;other&#x27;</span>), hobby <span class="keyword">set</span>(<span class="string">&#x27;read&#x27;</span>, <span class="string">&#x27;DBJ&#x27;</span>, <span class="string">&#x27;hecha&#x27;</span>));</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> teacher;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type                          <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)                       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">char</span>(<span class="number">16</span>)                      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> gender <span class="operator">|</span> enum(<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;other&#x27;</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> hobby  <span class="operator">|</span> <span class="keyword">set</span>(<span class="string">&#x27;read&#x27;</span>,<span class="string">&#x27;DBJ&#x27;</span>,<span class="string">&#x27;hecha&#x27;</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入一条特定值数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;Marcos&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;read,DBJ,hecha&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;ShanShan&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;DBJ&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> teacher;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name             <span class="operator">|</span> gender <span class="operator">|</span> hobby          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+----------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> Marcos           <span class="operator">|</span> male   <span class="operator">|</span> read,DBJ,hecha <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> ShanShan         <span class="operator">|</span> female <span class="operator">|</span> DBJ            <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------------------+--------+----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line"># 插入一条非特定值数据</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;egon&#x27;</span>,<span class="string">&#x27;other&#x27;</span>,<span class="string">&#x27;play&#x27;</span>);</span><br><span class="line"><span class="number">1265</span> <span class="operator">-</span> Data truncated <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;hobby&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 结论</span></span><br><span class="line"><span class="comment">--    集合可以写一个或多个，但是不能写没有列举的。</span></span><br></pre></td></tr></table></figure>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/01/Python%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF-44-MySQL/">Python全栈之路-44-MySQL</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-01</time><div class="content"><h4 id="创建表的完整语法"><a href="#创建表的完整语法" class="headerlink" title="创建表的完整语法"></a>创建表的完整语法</h4><p><em>注意事项</em></p>
<ol>
<li>在同一张表中字段名不能重复；</li>
<li>字段名和字段类型是必须填写；</li>
<li>宽度和约束条件非必须填写;</li>
<li>在同一个字段名中可写多个约束条件；</li>
<li>最后一行字段不能加<code>,</code>;</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 语法</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">  字段名<span class="number">1</span> 类型(宽度) 约束条件<span class="number">1</span> 约束条件<span class="number">1</span> ...,</span><br><span class="line">  字段名<span class="number">2</span> 类型(宽度) 约束条件,</span><br><span class="line">  字段名<span class="number">3</span> 类型(宽度) 约束条件,</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h5 id="类型宽度"><a href="#类型宽度" class="headerlink" title="类型宽度"></a>类型宽度</h5><blockquote>
<p>一般情况下指的是对存储数据的限制，默认类型宽度值为’1’。<em>只有整型括号里面的数字不是表示限制位数而是显示长度。</em></p>
</blockquote>
<p>5.6及以下版本默认是没有开启严格模式，如果插入超过宽度的字符，程序会自动帮你截取对应宽度的字符。</p>
<p>5.7及以上版本默认是开启严格模式，如果插入超过宽度的字符，程序会直接给你返回报错，不会在自动截取。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"># 不指定宽度创建表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t5(name <span class="type">char</span>);</span><br><span class="line"></span><br><span class="line"># 查看表字段类型详细数据,查看到默认<span class="type">char</span>值为<span class="string">&#x27;1&#x27;</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t5;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type    <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">char</span>(<span class="number">1</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 插入一条超过宽度的数据，出现长度报错提醒。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t5 <span class="keyword">values</span>(<span class="string">&#x27;jason&#x27;</span>);</span><br><span class="line"><span class="number">1406</span> <span class="operator">-</span> Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 在插入一条未超宽度的数据，插入成功。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t5 <span class="keyword">values</span>(<span class="string">&#x27;j&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"># 验证表数据是否真的插入成功</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t5;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> j    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 针对<span class="type">int</span> 括号内的宽度到底是干嘛的？ ###</span><br><span class="line"># 以下创建了一张<span class="type">int</span>表并且限制了宽度为<span class="number">8</span>，但是插入‘<span class="number">123456789</span>’也可以正常插入。所以得出结论，针对整型字段，括号内无需指定宽度，因为它默认的宽度以足够显示所有的数据。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t11(id <span class="type">int</span>(<span class="number">8</span>));</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t11;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type   <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">8</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t11 <span class="keyword">values</span>(<span class="number">123456789</span>);</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t11;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">123456789</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"></span><br><span class="line"># 如果数字没有超出<span class="number">8</span>位，默认用空格填充至<span class="number">8</span>位，也可以使用<span class="number">0</span>进行展位，详细可看以下约束内容。</span><br><span class="line"># 如果数字超出了<span class="number">8</span>位，有几位就存几位，但还是遵守最大范围。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t11 <span class="keyword">values</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t11;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">123456789</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br></pre></td></tr></table></figure>

<h5 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h5><h6 id="非空约束"><a href="#非空约束" class="headerlink" title="非空约束"></a>非空约束</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 创建非空约束表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t7(id <span class="type">int</span>, name <span class="type">char</span> <span class="keyword">not</span> <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"># 验证非空约束表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t7 <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t7 <span class="keyword">values</span>(<span class="number">2</span>,<span class="keyword">null</span>);</span><br><span class="line"><span class="number">1048</span> <span class="operator">-</span> <span class="keyword">Column</span> <span class="string">&#x27;name&#x27;</span> cannot be <span class="keyword">null</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t7;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br></pre></td></tr></table></figure>

<h6 id="去除整型符号约束"><a href="#去除整型符号约束" class="headerlink" title="去除整型符号约束"></a>去除整型符号约束</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 创建无符号表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t9(id tinyint unsigned);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type                <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> tinyint(<span class="number">3</span>) unsigned <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 验证无符号表</span><br><span class="line"># 插入带有符号并且超出的值会直接报错</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9 <span class="keyword">values</span>(<span class="number">-1</span>),(<span class="number">254</span>);</span><br><span class="line"><span class="number">1264</span> <span class="operator">-</span> <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;id&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入不带符号并且为超出的情况下，创建成功。</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t9 <span class="keyword">values</span>(<span class="number">0</span>),(<span class="number">255</span>);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">255</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br></pre></td></tr></table></figure>

<h6 id="整型0占位填充约束"><a href="#整型0占位填充约束" class="headerlink" title="整型0占位填充约束"></a>整型0占位填充约束</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 创建<span class="number">0</span>占位填充表</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t12(id <span class="type">int</span>(<span class="number">8</span>) unsigned zerofill);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> t12;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type                     <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>(<span class="number">8</span>) unsigned zerofill <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 验证</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> t12 <span class="keyword">values</span>(<span class="number">1</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t12;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> id       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">00000001</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br></pre></td></tr></table></figure>

<h5 id="约束条件与宽度的关系"><a href="#约束条件与宽度的关系" class="headerlink" title="约束条件与宽度的关系"></a>约束条件与宽度的关系</h5><ul>
<li>宽度是用来限制数据的存储；</li>
<li>约束条件实在宽度的基础之上增加的额外约束；</li>
</ul>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By John Doe</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>